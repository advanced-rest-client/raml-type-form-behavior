<!doctype html>
<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1, user-scalable=yes">
  <title>outh-authorization demo</title>
  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="raml-type-element.html">

  <style>
  .vertical-section-container {
    max-width: 600px;
    margin: 20px auto;
  }

  output {
    white-space: pre-wrap;
    font-family: monospace;
  }
  </style>
</head>
<body unresolved>
  <template is="dom-bind" id="demo">
    <div class="vertical-section-container">
      <raml-type-element id="eml" amf-model="[[amfModel]]" on-view-model-changed="_updateView"></raml-type-element>
      <output id="out"></output>
    </div>
  </template>
  <script>
  (function(scope) {
    fetch('./headers-model.json')
    .then((response) => response.json())
    .then((data) => {
      scope.amfModel = data[0]['http://raml.org/vocabularies/document#encodes'][0]['http://raml.org/vocabularies/http#endpoint'][0]['http://www.w3.org/ns/hydra/core#supportedOperation'][0]['http://www.w3.org/ns/hydra/core#expects'][0]['http://raml.org/vocabularies/http#header'];
    });

    scope._updateView = function(e) {
      document.getElementById('out').innerText = JSON.stringify(e.detail.value, null, 2);
    };
  })(document.getElementById('demo'));
  </script>
</body>
</html>
